<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2914px" preserveAspectRatio="none" style="width:1321px;height:2914px;background:#FFFFFF;" version="1.1" viewBox="0 0 1321 2914" width="1321px" zoomAndPan="magnify"><defs><filter height="300%" id="f1f5db85rca0re" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="294" x="510" y="43.3486">Basic sequence for creating MCI</text><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="133.6641" style="stroke:#000000;stroke-width:2.0;" width="814.5" x="10" y="154.8906"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="327.5547"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="587.6172"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="847.6797"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="1107.7422"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="1367.8047"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="1262.6094" style="stroke:#000000;stroke-width:2.0;" width="1294" x="10" y="1627.8672"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="153.8281" style="stroke:#000000;stroke-width:2.0;" width="936" x="358" y="1781.5313"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="177.7969" style="stroke:#000000;stroke-width:2.0;" width="797" x="348" y="2003.4922"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="146.6641" style="stroke:#000000;stroke-width:2.0;" width="777" x="358" y="2027.625"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="360.9922" style="stroke:#000000;stroke-width:2.0;" width="977" x="317" y="2249.4219"/><rect fill="#FFFFFF" filter="url(#f1f5db85rca0re)" height="104.5313" style="stroke:#000000;stroke-width:2.0;" width="777" x="358" y="2707.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="137.8906" y2="2907.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="429" x2="429" y1="137.8906" y2="2907.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="746.5" x2="746.5" y1="137.8906" y2="2907.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="867.5" x2="867.5" y1="137.8906" y2="2907.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="970.5" x2="970.5" y1="137.8906" y2="2907.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1100" x2="1100" y1="137.8906" y2="2907.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1262" x2="1262" y1="1891.5781" y2="2907.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="134.5889">User</text><ellipse cx="39" cy="64.5938" fill="#D1E0FF" filter="url(#f1f5db85rca0re)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M39,72.5938 L39,99.5938 M26,80.5938 L52,80.5938 M39,99.5938 L26,114.5938 M39,99.5938 L52,114.5938 " fill="none" filter="url(#f1f5db85rca0re)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="368" y="102.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="375" y="122.5889">CB-Tumblebug</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="679.5" y="134.5889">CB-Tumblebug DB</text><path d="M729,85.5938 C729,75.5938 747,75.5938 747,75.5938 C747,75.5938 765,75.5938 765,85.5938 L765,111.5938 C765,121.5938 747,121.5938 747,121.5938 C747,121.5938 729,121.5938 729,111.5938 L729,85.5938 " fill="#FEFECE" filter="url(#f1f5db85rca0re)" style="stroke:#000000;stroke-width:1.5;"/><path d="M729,85.5938 C729,95.5938 747,95.5938 747,95.5938 C747,95.5938 765,95.5938 765,85.5938 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#E1E0EE" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="824.5" y="102.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="831.5" y="122.5889">CB-Spider</text><rect fill="#E1E0EE" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="921.5" y="102.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="928.5" y="122.5889">CB-Draonfly</text><rect fill="#1EE0FF" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="42" x="1079" y="98.5938"/><rect fill="#1EE0FF" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="42" x="1075" y="102.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1082" y="122.5889">CSP</text><path d="M10,154.8906 L197,154.8906 L197,161.8906 L187,171.8906 L10,171.8906 L10,154.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="133.6641" style="stroke:#000000;stroke-width:2.0;" width="814.5" x="10" y="154.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142" x="25" y="167.9575">Create NameSpace</text><polygon fill="#A80036" points="417,189.1563,427,193.1563,417,197.1563,421,193.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="193.1563" y2="193.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="188.0903">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="80" y="188.0903">POST /ns/:ns</text><polygon fill="#A80036" points="735,218.2891,745,222.2891,735,226.2891,739,222.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="222.2891" y2="222.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="217.2231">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="470" y="217.2231">Create {NameSpace Obj}</text><polygon fill="#A80036" points="440,230.2891,430,234.2891,440,238.2891,436,234.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="234.2891" y2="234.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="247.356">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="480" y="247.356">Get {NameSpace Obj}</text><polygon fill="#A80036" points="50,259.4219,40,263.4219,50,267.4219,46,263.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="263.4219" y2="263.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="276.4888">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="90" y="276.4888">Return {NameSpace ID}</text><path d="M10,327.5547 L216,327.5547 L216,334.5547 L206,344.5547 L10,344.5547 L10,327.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="327.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161" x="25" y="340.6216">Create Resource:vNet</text><polygon fill="#A80036" points="417,361.8203,427,365.8203,417,369.8203,421,365.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="365.8203" y2="365.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="360.7544">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="80" y="360.7544">POST /ns/:ns/resources/vNet {vNet request}</text><polygon fill="#A80036" points="856,390.9531,866,394.9531,856,398.9531,860,394.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="394.9531" y2="394.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="389.8872">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="470" y="389.8872">Create {vNet}</text><polygon fill="#A80036" points="1088,420.0859,1098,424.0859,1088,428.0859,1092,424.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="868" x2="1094" y1="424.0859" y2="424.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="875" y="419.02">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="909" y="419.02">Create {vNet}</text><polygon fill="#A80036" points="440,432.0859,430,436.0859,440,440.0859,436,436.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="436.0859" y2="436.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="449.1528">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="480" y="449.1528">Return {vNet}</text><polygon fill="#A80036" points="735,478.3516,745,482.3516,735,486.3516,739,482.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="482.3516" y2="482.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="477.2856">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="470" y="477.2856">Create {vNet Obj}</text><polygon fill="#A80036" points="440,490.3516,430,494.3516,440,498.3516,436,494.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="494.3516" y2="494.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="507.4185">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="480" y="507.4185">Get {vNet Obj}</text><polygon fill="#A80036" points="50,519.4844,40,523.4844,50,527.4844,46,523.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="523.4844" y2="523.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="536.5513">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="90" y="536.5513">Return {vNet ID}</text><path d="M10,587.6172 L286,587.6172 L286,594.6172 L276,604.6172 L10,604.6172 L10,587.6172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="587.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="231" x="25" y="600.6841">Create Resource:SecurityGroup</text><polygon fill="#A80036" points="417,621.8828,427,625.8828,417,629.8828,421,625.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="625.8828" y2="625.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="620.8169">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="80" y="620.8169">POST /ns/:ns/resources/securityGroup {SG request}</text><polygon fill="#A80036" points="856,651.0156,866,655.0156,856,659.0156,860,655.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="655.0156" y2="655.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="649.9497">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="470" y="649.9497">Create {SecurityGroup}</text><polygon fill="#A80036" points="1088,680.1484,1098,684.1484,1088,688.1484,1092,684.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="868" x2="1094" y1="684.1484" y2="684.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="875" y="679.0825">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="909" y="679.0825">Create {SecurityGroup}</text><polygon fill="#A80036" points="440,692.1484,430,696.1484,440,700.1484,436,696.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="696.1484" y2="696.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="709.2153">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="480" y="709.2153">Return {SecurityGroup}</text><polygon fill="#A80036" points="735,738.4141,745,742.4141,735,746.4141,739,742.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="742.4141" y2="742.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="737.3481">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="470" y="737.3481">Create {SecurityGroup Obj}</text><polygon fill="#A80036" points="440,750.4141,430,754.4141,440,758.4141,436,754.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="754.4141" y2="754.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="767.481">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="480" y="767.481">Get {SecurityGroup Obj}</text><polygon fill="#A80036" points="50,779.5469,40,783.5469,50,787.5469,46,783.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="783.5469" y2="783.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="796.6138">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="90" y="796.6138">Return {SecurityGroup Obj ID}</text><path d="M10,847.6797 L238,847.6797 L238,854.6797 L228,864.6797 L10,864.6797 L10,847.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="847.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="183" x="25" y="860.7466">Create Resource:SSHKey</text><polygon fill="#A80036" points="417,881.9453,427,885.9453,417,889.9453,421,885.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="885.9453" y2="885.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="880.8794">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="80" y="880.8794">POST /ns/:ns/resources/sshKey {SSHKey request}</text><polygon fill="#A80036" points="856,911.0781,866,915.0781,856,919.0781,860,915.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="915.0781" y2="915.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="910.0122">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="470" y="910.0122">Register {SSHKey}</text><polygon fill="#A80036" points="1088,940.2109,1098,944.2109,1088,948.2109,1092,944.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="868" x2="1094" y1="944.2109" y2="944.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="875" y="939.145">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="909" y="939.145">Register {SSHKey}</text><polygon fill="#A80036" points="440,952.2109,430,956.2109,440,960.2109,436,956.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="956.2109" y2="956.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="969.2778">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="480" y="969.2778">Return {SSHKey}</text><polygon fill="#A80036" points="735,998.4766,745,1002.4766,735,1006.4766,739,1002.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="1002.4766" y2="1002.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="997.4106">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="470" y="997.4106">Create {SSHKey Obj}</text><polygon fill="#A80036" points="440,1010.4766,430,1014.4766,440,1018.4766,436,1014.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="1014.4766" y2="1014.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="1027.5435">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="480" y="1027.5435">Get {SSHKey Obj}</text><polygon fill="#A80036" points="50,1039.6094,40,1043.6094,50,1047.6094,46,1043.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="1043.6094" y2="1043.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="1056.6763">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="90" y="1056.6763">Return {SSHKey Obj ID}</text><path d="M10,1107.7422 L228,1107.7422 L228,1114.7422 L218,1124.7422 L10,1124.7422 L10,1107.7422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="1107.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="25" y="1120.8091">Create Resource:Image</text><polygon fill="#A80036" points="417,1142.0078,427,1146.0078,417,1150.0078,421,1146.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="1146.0078" y2="1146.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="1140.9419">[26]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="80" y="1140.9419">POST /ns/:ns/resources/image {Image request}</text><polygon fill="#A80036" points="856,1171.1406,866,1175.1406,856,1179.1406,860,1175.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="1175.1406" y2="1175.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1170.0747">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="470" y="1170.0747">Lookup {Native Image Info}</text><polygon fill="#A80036" points="879,1183.1406,869,1187.1406,879,1191.1406,875,1187.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="873" x2="1099" y1="1187.1406" y2="1187.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="885" y="1200.2075">[28]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="919" y="1200.2075">Return {Native Image Info}</text><polygon fill="#A80036" points="440,1212.2734,430,1216.2734,440,1220.2734,436,1216.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="1216.2734" y2="1216.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="1229.3403">[29]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="480" y="1229.3403">Return {Native Image Info}</text><polygon fill="#A80036" points="735,1258.5391,745,1262.5391,735,1266.5391,739,1262.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="1262.5391" y2="1262.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1257.4731">[30]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="470" y="1257.4731">Create {Image Obj}</text><polygon fill="#A80036" points="440,1270.5391,430,1274.5391,440,1278.5391,436,1274.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="1274.5391" y2="1274.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="1287.606">[31]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="480" y="1287.606">Get {Image Obj}</text><polygon fill="#A80036" points="50,1299.6719,40,1303.6719,50,1307.6719,46,1303.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="1303.6719" y2="1303.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="1316.7388">[32]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="90" y="1316.7388">Return {Image Obj ID}</text><path d="M10,1367.8047 L218,1367.8047 L218,1374.8047 L208,1384.8047 L10,1384.8047 L10,1367.8047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="221.0625" style="stroke:#000000;stroke-width:2.0;" width="1125" x="10" y="1367.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="163" x="25" y="1380.8716">Create Resource:Spec</text><polygon fill="#A80036" points="417,1402.0703,427,1406.0703,417,1410.0703,421,1406.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="1406.0703" y2="1406.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="1401.0044">[33]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="80" y="1401.0044">POST /ns/:ns/resources/spec {Spec request}</text><polygon fill="#A80036" points="856,1431.2031,866,1435.2031,856,1439.2031,860,1435.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="1435.2031" y2="1435.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1430.1372">[34]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="470" y="1430.1372">Lookup {Native Spec Info}</text><polygon fill="#A80036" points="879,1443.2031,869,1447.2031,879,1451.2031,875,1447.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="873" x2="1099" y1="1447.2031" y2="1447.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="885" y="1460.27">[35]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="919" y="1460.27">Return {Native Spec Info}</text><polygon fill="#A80036" points="440,1472.3359,430,1476.3359,440,1480.3359,436,1476.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="1476.3359" y2="1476.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="1489.4028">[36]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="480" y="1489.4028">Return {Native Spec Info}</text><polygon fill="#A80036" points="735,1518.6016,745,1522.6016,735,1526.6016,739,1522.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="1522.6016" y2="1522.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1517.5356">[37]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="470" y="1517.5356">Create {Spec Obj}</text><polygon fill="#A80036" points="440,1530.6016,430,1534.6016,440,1538.6016,436,1534.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="1534.6016" y2="1534.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="1547.6685">[38]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="480" y="1547.6685">Get {Spec Obj}</text><polygon fill="#A80036" points="50,1559.7344,40,1563.7344,50,1567.7344,46,1563.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="1563.7344" y2="1563.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="1576.8013">[39]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="90" y="1576.8013">Return {Spec Obj ID}</text><path d="M10,1627.8672 L284,1627.8672 L284,1634.8672 L274,1644.8672 L10,1644.8672 L10,1627.8672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1262.6094" style="stroke:#000000;stroke-width:2.0;" width="1294" x="10" y="1627.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="229" x="25" y="1640.9341">Create MCI (Multi-Cloud Infra)</text><polygon fill="#A80036" points="417,1662.1328,427,1666.1328,417,1670.1328,421,1666.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="423" y1="1666.1328" y2="1666.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="46" y="1661.0669">[40]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="80" y="1661.0669">POST /ns/:ns/mci {MCI request}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="471" y1="1695.2656" y2="1695.2656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="471" x2="471" y1="1695.2656" y2="1708.2656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="471" y1="1708.2656" y2="1708.2656"/><polygon fill="#A80036" points="440,1704.2656,430,1708.2656,440,1712.2656,436,1708.2656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1690.1997">[41]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="470" y="1690.1997">Validate {MCI request}</text><polygon fill="#A80036" points="50,1716.2656,40,1720.2656,50,1724.2656,46,1720.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="1720.2656" y2="1720.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="1733.3325">[42]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="90" y="1733.3325">Return {Error} if not valid request</text><polygon fill="#A80036" points="735,1762.5313,745,1766.5313,735,1770.5313,739,1766.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="1766.5313" y2="1766.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1761.4653">[43]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="470" y="1761.4653">Create {MCI Obj}</text><path d="M358,1781.5313 L435,1781.5313 L435,1788.5313 L425,1798.5313 L358,1798.5313 L358,1781.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="153.8281" style="stroke:#000000;stroke-width:2.0;" width="936" x="358" y="1781.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="373" y="1794.5981">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="240" x="450" y="1793.7417">[for all VM requests: Create each VM]</text><polygon fill="#A80036" points="856,1815.7969,866,1819.7969,856,1823.7969,860,1819.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="1819.7969" y2="1819.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1814.731">[44]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="470" y="1814.731">Create {VM}</text><polygon fill="#A80036" points="1088,1844.9297,1098,1848.9297,1088,1852.9297,1092,1848.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="868" x2="1094" y1="1848.9297" y2="1848.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="875" y="1843.8638">[45]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="909" y="1843.8638">Create {VM}</text><polygon fill="#A80036" points="1229,1874.0625,1239,1878.0625,1229,1882.0625,1233,1878.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1100" x2="1235" y1="1878.0625" y2="1878.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1107" y="1872.9966">[46]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1141" y="1872.9966">Create {VM}</text><rect fill="#FEFECE" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="35" x="1245" y="1856.9297"/><rect fill="#FEFECE" filter="url(#f1f5db85rca0re)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="35" x="1241" y="1860.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1248" y="1880.9248">VM</text><polygon fill="#A80036" points="440,1906.2266,430,1910.2266,440,1914.2266,436,1910.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="1910.2266" y2="1910.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="1923.2935">[47]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="480" y="1923.2935">Return {VM}</text><polygon fill="#A80036" points="735,1959.4922,745,1963.4922,735,1967.4922,739,1963.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="1963.4922" y2="1963.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="1958.4263">[48]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="470" y="1958.4263">Update {MCI Obj with VM Info}</text><path d="M348,2003.4922 L425,2003.4922 L425,2010.4922 L415,2020.4922 L348,2020.4922 L348,2003.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="177.7969" style="stroke:#000000;stroke-width:2.0;" width="797" x="348" y="2003.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="363" y="2016.5591">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="219" x="440" y="2015.7026">[for all VMs: Check VM is Running]</text><path d="M358,2027.625 L435,2027.625 L435,2034.625 L425,2044.625 L358,2044.625 L358,2027.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="146.6641" style="stroke:#000000;stroke-width:2.0;" width="777" x="358" y="2027.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="373" y="2040.6919">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108" x="450" y="2039.8354">[within TimeOut]</text><polygon fill="#A80036" points="856,2061.8906,866,2065.8906,856,2069.8906,860,2065.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="2065.8906" y2="2065.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2060.8247">[49]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="470" y="2060.8247">Get {VM Status}</text><polygon fill="#A80036" points="1088,2091.0234,1098,2095.0234,1088,2099.0234,1092,2095.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="868" x2="1094" y1="2095.0234" y2="2095.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="875" y="2089.9575">[50]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="909" y="2089.9575">Get {VM Status}</text><polygon fill="#A80036" points="440,2103.0234,430,2107.0234,440,2111.0234,436,2107.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="2107.0234" y2="2107.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="2120.0903">[51]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="480" y="2120.0903">Return {VM Status}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="471" y1="2153.2891" y2="2153.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="471" x2="471" y1="2153.2891" y2="2166.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="471" y1="2166.2891" y2="2166.2891"/><polygon fill="#A80036" points="440,2162.2891,430,2166.2891,440,2170.2891,436,2166.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2148.2231">[52]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="470" y="2148.2231">Check {VM Status:Running}</text><polygon fill="#A80036" points="735,2205.4219,745,2209.4219,735,2213.4219,739,2209.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="2209.4219" y2="2209.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2204.356">[53]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="470" y="2204.356">Update {MCI Obj with VM Info}</text><path d="M317,2249.4219 L394,2249.4219 L394,2256.4219 L384,2266.4219 L317,2266.4219 L317,2249.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="360.9922" style="stroke:#000000;stroke-width:2.0;" width="977" x="317" y="2249.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="332" y="2262.4888">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="329" x="409" y="2261.6323">[for all VMs: Install CB-Dragonfly Monitoring Agent]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="471" y1="2308.8867" y2="2308.8867"/><line style="stroke:#A80036;stroke-width:1.0;" x1="471" x2="471" y1="2308.8867" y2="2321.8867"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="471" y1="2321.8867" y2="2321.8867"/><polygon fill="#A80036" points="440,2317.8867,430,2321.8867,440,2325.8867,436,2321.8867" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2303.8208">[54]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="470" y="2303.8208">Check Agent is requested</text><path d="M330,2271.5547 L330,2341.5547 L420,2341.5547 L420,2281.5547 L410,2271.5547 L330,2271.5547 " fill="#FBFB77" filter="url(#f1f5db85rca0re)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M410,2271.5547 L410,2281.5547 L420,2281.5547 L410,2271.5547 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="336" y="2288.6216">If not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="336" y="2303.7544">requested,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="336" y="2318.8872">skip agent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="336" y="2334.02">installation</text><polygon fill="#A80036" points="959,2368.2188,969,2372.2188,959,2376.2188,963,2372.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="965" y1="2372.2188" y2="2372.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2367.1528">[55]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="470" y="2367.1528">Check CB-Dragonlfy is Alive</text><polygon fill="#A80036" points="735,2425.0508,745,2429.0508,735,2433.0508,739,2429.0508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="2429.0508" y2="2429.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2423.9849">[56]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="470" y="2423.9849">Update {MCI with message} if not alive</text><path d="M327,2385.2188 L327,2455.2188 L420,2455.2188 L420,2395.2188 L410,2385.2188 L327,2385.2188 " fill="#FBFB77" filter="url(#f1f5db85rca0re)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M410,2385.2188 L410,2395.2188 L420,2395.2188 L410,2385.2188 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="333" y="2402.2856">If Dragonlfy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="333" y="2417.4185">is not alive,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="333" y="2432.5513">skip agent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="333" y="2447.6841">installation</text><polygon fill="#A80036" points="1250.5,2481.8828,1260.5,2485.8828,1250.5,2489.8828,1254.5,2485.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="1256.5" y1="2485.8828" y2="2485.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2480.8169">[57]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="470" y="2480.8169">Check SSH is available in VM</text><polygon fill="#A80036" points="959,2511.0156,969,2515.0156,959,2519.0156,963,2515.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="965" y1="2515.0156" y2="2515.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2509.9497">[58]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="470" y="2509.9497">Request Install {VM Access Info}</text><polygon fill="#A80036" points="1250.5,2540.1484,1260.5,2544.1484,1250.5,2548.1484,1254.5,2544.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="971" x2="1256.5" y1="2544.1484" y2="2544.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="978" y="2539.0825">[59]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1012" y="2539.0825">Install {Agent binary}</text><polygon fill="#A80036" points="982,2552.1484,972,2556.1484,982,2560.1484,978,2556.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="976" x2="1261.5" y1="2556.1484" y2="2556.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="988" y="2569.2153">[60]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1022" y="2569.2153">Return {Agent Installation result}</text><polygon fill="#A80036" points="440,2581.2813,430,2585.2813,440,2589.2813,436,2585.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="970" y1="2585.2813" y2="2585.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="2598.3481">[61]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="480" y="2598.3481">Return {Agent Installation result}</text><polygon fill="#A80036" points="735,2634.5469,745,2638.5469,735,2642.5469,739,2638.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="741" y1="2638.5469" y2="2638.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2633.481">[62]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="470" y="2633.481">Update {MCI Obj with Agent Info}</text><polygon fill="#A80036" points="440,2646.5469,430,2650.5469,440,2654.5469,436,2650.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="746" y1="2650.5469" y2="2650.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="2663.6138">[63]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="480" y="2663.6138">Get {MCI Obj}</text><path d="M358,2707.6797 L435,2707.6797 L435,2714.6797 L425,2724.6797 L358,2724.6797 L358,2707.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:2.0;" width="777" x="358" y="2707.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="373" y="2720.7466">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="200" x="450" y="2719.8901">[for all VMs: Update VM Status]</text><polygon fill="#A80036" points="856,2741.9453,866,2745.9453,856,2749.9453,860,2745.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="862" y1="2745.9453" y2="2745.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2740.8794">[64]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="470" y="2740.8794">Get {VM Status}</text><polygon fill="#A80036" points="1088,2771.0781,1098,2775.0781,1088,2779.0781,1092,2775.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="868" x2="1094" y1="2775.0781" y2="2775.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="875" y="2770.0122">[65]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="909" y="2770.0122">Get {VM Status}</text><polygon fill="#A80036" points="440,2783.0781,430,2787.0781,440,2791.0781,436,2787.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="867" y1="2787.0781" y2="2787.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="446" y="2800.145">[66]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="480" y="2800.145">Return {VM Status}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="429" x2="471" y1="2840.3438" y2="2840.3438"/><line style="stroke:#A80036;stroke-width:1.0;" x1="471" x2="471" y1="2840.3438" y2="2853.3438"/><line style="stroke:#A80036;stroke-width:1.0;" x1="430" x2="471" y1="2853.3438" y2="2853.3438"/><polygon fill="#A80036" points="440,2849.3438,430,2853.3438,440,2857.3438,436,2853.3438" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="436" y="2835.2778">[67]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="470" y="2835.2778">Update {MCI Obj}</text><polygon fill="#A80036" points="50,2861.3438,40,2865.3438,50,2869.3438,46,2865.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="428" y1="2865.3438" y2="2865.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="56" y="2878.4106">[68]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="90" y="2878.4106">Return {MCI Obj}</text><text fill="#888888" font-family="sans-serif" font-size="10" font-weight="bold" lengthAdjust="spacing" textLength="81" x="1192" y="14.2822">CB-Tumblebug</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="38" x="1276" y="14.2822">(v0.5.0)</text><!--MD5=[850375a809b09ba650fa90dcd0ced590]
@startuml

header **CB-Tumblebug** (v0.5.0)
title Basic sequence for creating MCI
hide footbox

actor	"User"		            as user		    #d1e0ff

participant	"CB-Tumblebug"		as tumblebug     
database	"CB-Tumblebug DB"	as db           

participant	"CB-Spider"			as spider		#e1e0ee
participant	"CB-Draonfly"	    as dragonfly	#e1e0ee

collections	"CSP"	            as csp		    #1ee0ff

skinparam sequence {
    GroupColor DeepSkyBlue
}
skinparam responseMessageBelowArrow true


'activate user
'activate tumblebug


autonumber 1 "<b>[00]"
group Create NameSpace
user	    ->	tumblebug	: POST /ns/:ns
tumblebug	->	db			: Create {NameSpace Obj}
tumblebug	<- -	db			: Get {NameSpace Obj}
tumblebug	- ->	user	    : Return {NameSpace ID}
end
|||

group Create Resource:vNet 
user	    ->	tumblebug	: POST /ns/:ns/resources/vNet {vNet request}
tumblebug	->	spider		: Create {vNet}
spider	    ->	csp		    : Create {vNet}
tumblebug	<- -	spider		: Return {vNet}
tumblebug	->	db			: Create {vNet Obj}
tumblebug	<- -	db			: Get {vNet Obj}
tumblebug	- ->	user	    : Return {vNet ID}
end
|||

group Create Resource:SecurityGroup 
user	    ->	tumblebug	: POST /ns/:ns/resources/securityGroup {SG request}
tumblebug	->	spider		: Create {SecurityGroup}
spider	    ->	csp		    : Create {SecurityGroup}
tumblebug	<- -	spider		: Return {SecurityGroup}
tumblebug	->	db			: Create {SecurityGroup Obj}
tumblebug	<- -	db			: Get {SecurityGroup Obj}
tumblebug	- ->	user	    : Return {SecurityGroup Obj ID}
end
|||

group Create Resource:SSHKey 
user	    ->	tumblebug	: POST /ns/:ns/resources/sshKey {SSHKey request}
tumblebug	->	spider		: Register {SSHKey}
spider	    ->	csp		    : Register {SSHKey}
tumblebug	<- -	spider		: Return {SSHKey}
tumblebug	->	db			: Create {SSHKey Obj}
tumblebug	<- -	db			: Get {SSHKey Obj}
tumblebug	- ->	user	    : Return {SSHKey Obj ID}
end
|||

group Create Resource:Image 
user	    ->	tumblebug	: POST /ns/:ns/resources/image {Image request}
tumblebug	->	spider		: Lookup {Native Image Info}
spider	    <- -	csp		    : Return {Native Image Info}
tumblebug    <- -	spider		: Return {Native Image Info}
tumblebug	->	db			: Create {Image Obj}
tumblebug	<- -	db			: Get {Image Obj}
tumblebug	- ->	user	    : Return {Image Obj ID}
end
|||

group Create Resource:Spec 
user	    ->	tumblebug	: POST /ns/:ns/resources/spec {Spec request}
tumblebug	->	spider		: Lookup {Native Spec Info}
spider	    <- -	csp		    : Return {Native Spec Info}
tumblebug    <- -	spider		: Return {Native Spec Info}
tumblebug	->	db			: Create {Spec Obj}
tumblebug	<- -	db			: Get {Spec Obj}
tumblebug	- ->	user	    : Return {Spec Obj ID}
end
|||

group Create MCI (Multi-Cloud Infra) 
user	    ->	tumblebug	: POST /ns/:ns/mci {MCI request}
tumblebug   ->	tumblebug	: Validate {MCI request}
tumblebug	- ->	user	    : Return {Error} if not valid request

tumblebug	->	db			: Create {MCI Obj}
    loop for all VM requests: Create each VM
    tumblebug	->	spider		: Create {VM}
    spider	    ->	csp		    : Create {VM}
    create collections VM
    csp	    ->  VM		    : Create {VM}
    tumblebug   <- -	spider		: Return {VM}
    end
tumblebug	->	db			: Update {MCI Obj with VM Info}
|||

    loop for all VMs: Check VM is Running 
        loop within TimeOut
        tumblebug	->	spider		: Get {VM Status}
        spider	    ->	csp		    : Get {VM Status}
        tumblebug   <- -	spider		: Return {VM Status}
        tumblebug   ->	tumblebug	: Check {VM Status:Running}
        end
    end
tumblebug	->	db			: Update {MCI Obj with VM Info}
|||

    loop for all VMs: Install CB-Dragonfly Monitoring Agent
    tumblebug   -> tumblebug    : Check Agent is requested
    
    note left
    If not
    requested,
    skip agent
    installation
    end note

    tumblebug   -> dragonfly    : Check CB-Dragonlfy is Alive
    tumblebug	->	db			: Update {MCI with message} if not alive

    note left
    If Dragonlfy
    is not alive,
    skip agent
    installation
    end note

    tumblebug	->	VM		    : Check SSH is available in VM
    tumblebug	->	dragonfly	: Request Install {VM Access Info}
    dragonfly	->	VM	        : Install {Agent binary}
    dragonfly	<- -	VM	        : Return {Agent Installation result}
    tumblebug   <- -	dragonfly	: Return {Agent Installation result}
    end
tumblebug	->	db			: Update {MCI Obj with Agent Info}
tumblebug	<- -	db			: Get {MCI Obj}
|||

    loop for all VMs: Update VM Status 
    tumblebug	->	spider		: Get {VM Status}
    spider	    ->	csp		    : Get {VM Status}
    tumblebug   <- -	spider		: Return {VM Status}
    end
tumblebug   ->	tumblebug	: Update {MCI Obj}
tumblebug	- ->	user	    : Return {MCI Obj}
end


'deactivate tumblebug
'deactivate user

@enduml

@startuml

header **CB-Tumblebug** (v0.5.0)
title Basic sequence for creating MCI
hide footbox

actor	"User"		            as user		    #d1e0ff

participant	"CB-Tumblebug"		as tumblebug     
database	"CB-Tumblebug DB"	as db           

participant	"CB-Spider"			as spider		#e1e0ee
participant	"CB-Draonfly"	    as dragonfly	#e1e0ee

collections	"CSP"	            as csp		    #1ee0ff

skinparam sequence {
    GroupColor DeepSkyBlue
}
skinparam responseMessageBelowArrow true




autonumber 1 "<b>[00]"
group Create NameSpace
user	    ->	tumblebug	: POST /ns/:ns
tumblebug	->	db			: Create {NameSpace Obj}
tumblebug	<- -	db			: Get {NameSpace Obj}
tumblebug	- ->	user	    : Return {NameSpace ID}
end
|||

group Create Resource:vNet 
user	    ->	tumblebug	: POST /ns/:ns/resources/vNet {vNet request}
tumblebug	->	spider		: Create {vNet}
spider	    ->	csp		    : Create {vNet}
tumblebug	<- -	spider		: Return {vNet}
tumblebug	->	db			: Create {vNet Obj}
tumblebug	<- -	db			: Get {vNet Obj}
tumblebug	- ->	user	    : Return {vNet ID}
end
|||

group Create Resource:SecurityGroup 
user	    ->	tumblebug	: POST /ns/:ns/resources/securityGroup {SG request}
tumblebug	->	spider		: Create {SecurityGroup}
spider	    ->	csp		    : Create {SecurityGroup}
tumblebug	<- -	spider		: Return {SecurityGroup}
tumblebug	->	db			: Create {SecurityGroup Obj}
tumblebug	<- -	db			: Get {SecurityGroup Obj}
tumblebug	- ->	user	    : Return {SecurityGroup Obj ID}
end
|||

group Create Resource:SSHKey 
user	    ->	tumblebug	: POST /ns/:ns/resources/sshKey {SSHKey request}
tumblebug	->	spider		: Register {SSHKey}
spider	    ->	csp		    : Register {SSHKey}
tumblebug	<- -	spider		: Return {SSHKey}
tumblebug	->	db			: Create {SSHKey Obj}
tumblebug	<- -	db			: Get {SSHKey Obj}
tumblebug	- ->	user	    : Return {SSHKey Obj ID}
end
|||

group Create Resource:Image 
user	    ->	tumblebug	: POST /ns/:ns/resources/image {Image request}
tumblebug	->	spider		: Lookup {Native Image Info}
spider	    <- -	csp		    : Return {Native Image Info}
tumblebug    <- -	spider		: Return {Native Image Info}
tumblebug	->	db			: Create {Image Obj}
tumblebug	<- -	db			: Get {Image Obj}
tumblebug	- ->	user	    : Return {Image Obj ID}
end
|||

group Create Resource:Spec 
user	    ->	tumblebug	: POST /ns/:ns/resources/spec {Spec request}
tumblebug	->	spider		: Lookup {Native Spec Info}
spider	    <- -	csp		    : Return {Native Spec Info}
tumblebug    <- -	spider		: Return {Native Spec Info}
tumblebug	->	db			: Create {Spec Obj}
tumblebug	<- -	db			: Get {Spec Obj}
tumblebug	- ->	user	    : Return {Spec Obj ID}
end
|||

group Create MCI (Multi-Cloud Infra) 
user	    ->	tumblebug	: POST /ns/:ns/mci {MCI request}
tumblebug   ->	tumblebug	: Validate {MCI request}
tumblebug	- ->	user	    : Return {Error} if not valid request

tumblebug	->	db			: Create {MCI Obj}
    loop for all VM requests: Create each VM
    tumblebug	->	spider		: Create {VM}
    spider	    ->	csp		    : Create {VM}
    create collections VM
    csp	    ->  VM		    : Create {VM}
    tumblebug   <- -	spider		: Return {VM}
    end
tumblebug	->	db			: Update {MCI Obj with VM Info}
|||

    loop for all VMs: Check VM is Running 
        loop within TimeOut
        tumblebug	->	spider		: Get {VM Status}
        spider	    ->	csp		    : Get {VM Status}
        tumblebug   <- -	spider		: Return {VM Status}
        tumblebug   ->	tumblebug	: Check {VM Status:Running}
        end
    end
tumblebug	->	db			: Update {MCI Obj with VM Info}
|||

    loop for all VMs: Install CB-Dragonfly Monitoring Agent
    tumblebug   -> tumblebug    : Check Agent is requested
    
    note left
    If not
    requested,
    skip agent
    installation
    end note

    tumblebug   -> dragonfly    : Check CB-Dragonlfy is Alive
    tumblebug	->	db			: Update {MCI with message} if not alive

    note left
    If Dragonlfy
    is not alive,
    skip agent
    installation
    end note

    tumblebug	->	VM		    : Check SSH is available in VM
    tumblebug	->	dragonfly	: Request Install {VM Access Info}
    dragonfly	->	VM	        : Install {Agent binary}
    dragonfly	<- -	VM	        : Return {Agent Installation result}
    tumblebug   <- -	dragonfly	: Return {Agent Installation result}
    end
tumblebug	->	db			: Update {MCI Obj with Agent Info}
tumblebug	<- -	db			: Get {MCI Obj}
|||

    loop for all VMs: Update VM Status 
    tumblebug	->	spider		: Get {VM Status}
    spider	    ->	csp		    : Get {VM Status}
    tumblebug   <- -	spider		: Return {VM Status}
    end
tumblebug   ->	tumblebug	: Update {MCI Obj}
tumblebug	- ->	user	    : Return {MCI Obj}
end



@enduml

PlantUML version 1.2021.7(Sun May 23 21:40:07 KST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>